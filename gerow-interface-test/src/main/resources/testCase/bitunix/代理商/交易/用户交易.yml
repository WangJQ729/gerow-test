name: 用户交易
story: trade
invocationCount: 1
dataProvider:
  - partnersadmin_account: admin
    partnersadmin_password: admin
    partner_email: gerow@126.com
    partner_password: Aa123456
    bd_nickName: gerow
    symbol: BTCUSDT
    amount: 0.16
    side: 2
    dataProvider:
      - userId: 48321
beforeClass:
  name: 登录合伙人系统
  step:
    - keyWord: 登录partnersadmin
    - keyWord: 登录partners
    - keyWord: 获取合伙人信息
    - keyWord: 分后台获取用户信息
    - keyWord: 合伙人列表
    - keyWord: 通过uid获取用户token
testMethod:
  - name: 合约
    step:
      - keyWord: 直客佣金查询
      - keyWord: 增加合约账户资产
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: U本位合约历史委托
      - keyWord: 代理商后台更新返佣统计
      - keyWord: 直客佣金查询-开仓
      - keyWord: 市价平仓
      - keyWord: U本位合约历史委托-平仓
      - keyWord: 代理商后台更新返佣统计
      - keyWord: 直客佣金查询-平仓
  - name: 现货
    step:
      - keyWord: 直客佣金查询-获取现货交易数据
      - keyWord: 代理商现货历史委托
      - keyWord: 增加合约账户资产
      - keyWord: 合约划转现货
      - keyWord: 现货市价买入
      - keyWord: web现货历史委托
      - keyWord: 代理商现货历史委托
      - keyWord: 代理商后台更新返佣统计
      - keyWord: 直客佣金查询-校验现货交易数据
  - name: 下级合约交易
    dataProvider:
      - email: ${__RandomEmail()}
        new_emails: gerow2${__time()}@bitunix.com
        partner_email: ${email}
        password: Aa123456
        futureRatio: 50
        exchangeRatio: 50
    step:
      - keyWord: 获取合伙人邀请码
      - keyWord: 快捷注册-合伙人邀请码
      - keyWord: 获取用户信息
      - keyWord: 升级为合伙人-设置返佣比例
      - keyWord: 登录partners-新合伙人
      - keyWord: 获取合伙人邀请码
      - keyWord: 新邮箱快捷注册-合伙人邀请码
      - keyWord: 通过uid获取用户token
      - keyWord: 增加合约账户资产
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: U本位合约历史委托
      - keyWord: 代理商后台更新返佣统计
      - keyWord: 合伙人佣金查询-首单
      - keyWord: 市价平仓
      - keyWord: U本位合约历史委托-平仓
      - keyWord: 代理商后台更新返佣统计
      - keyWord: 合伙人佣金查询-平仓
