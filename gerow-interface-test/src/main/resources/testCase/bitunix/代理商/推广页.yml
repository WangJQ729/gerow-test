name: 推广页
story: partners
beforeClass:
  name: 登录合伙人后台
  step:
    - keyWord: 登录partnersadmin
    - keyWord: 获取BD列表
    - keyWord: 快捷注册
    - keyWord: 获取用户信息
    - keyWord: 新增合伙人
    - keyWord: 登录partners-新合伙人
    - keyWord: 获取合伙人邀请码
testMethod:
  - name: 创建推广页
    dataProvider:
      - shortLink: gerow${__time()}
        dataProvider:
          - url: ${web_host}
          - url: ${web_host}/contract-trade/BTCUSDT
          - url: ${web_host}/contract-trade/ETHUSDT
          - url: ${web_host}/contract-trade/BNBUSDT
          - url: ${web_host}/contract-trade/XRPUSDT
          - url: ${web_host}/contract-trade/ADAUSDT
          - url: ${web_host}/activity/newborn-zone
          - url: ${web_host}/activity/welfare-center
          - url: ${web_host}/tripartiteCoin
          - url: ${web_host}/referral
          - url: ${web_host}/homemarket
          - url: ${web_host}/spot-trade/BTCUSDT
          - url: ${web_host}/spot-trade/ETHUSDT
          - url: ${web_host}/spot-trade/LTCUSDT
          - url: ${web_host}/browser/activity/partner-trading?actCode=gerow1716546569255
    step:
      - keyWord: 创建推广页
  - name: 页面名称已存在
    dataProvider:
      - shortLink: gerow1
        url: ${web_host}/browser/activity/partner-trading?actCode=gerow1716546569258
        code: '30041'
    step:
      - keyWord: 创建推广页
        dataProvider:
          - Accept-Language: en_US
            msg: Short link already existed, please enter again.
          - Accept-Language: zh_CN
            msg: 页面名称已存在，请重新输入
          - Accept-Language: zh_TW
            msg: 頁面名稱已存在，請重新輸入
          - Accept-Language: ru-RU
            msg: Короткая ссылка уже существовала, пожалуйста, введите еще раз.
          - Accept-Language: tr-TR
            msg: Kısa bağlantı zaten mevcut, lütfen tekrar girin.
        assertion:
          - json:
              $.msg: ${msg}
              $.code: ${code}
  - name: 邀请码链接已存在
    dataProvider:
      - shortLink: gerow${__time()}
        url: ${web_host}/register
        code: '30042'
    step:
      - keyWord: 创建推广页
        dataProvider:
          - Accept-Language: en_US
            msg: Promotion page already exists, please do not create it repeatedly.
          - Accept-Language: zh_CN
            msg: 推广页面已存在，请勿重复创建
          - Accept-Language: zh_TW
            msg: 推廣頁面已存在，請勿重複創建
          - Accept-Language: ru-RU
            msg: Промо-страница уже существует, пожалуйста, не создавайте ее повторно.
          - Accept-Language: tr-TR
            msg: Promosyon sayfası zaten mevcut, lütfen tekrar tekrar oluşturmayın.
        assertion:
          - json:
              $.msg: ${msg}
              $.code: ${code}