name: 社区活动_奖池配置
story: partners
dataProvider:
  - balance_amount: 888
    symbol: BTCUSDT
#    partner_email: gerow1717588617780@163.com
#    actId: 35
#    shortLink: gerow1718589671507
    shortLink: gerow${__time()}
beforeClass:
  name: 创建社区活动
  step:
    - keyWord: 登录partners
    - keyWord: 获取合伙人信息
    - keyWord: 登录partnersadmin
    - keyWord: 获取合伙人邀请码
    - keyWord: 合伙人列表
    - keyWord: 新建社区活动-配置奖池
    - keyWord: 社区活动列表
testMethod:
  - name: 仅报名
    dataProvider:
      - userId: 50948
      - userId: 50945
      - userId: 50943
      - userId: 50941
      - userId: 50938
      - userId: 50936
      - userId: 50934
      - userId: 50931
      - userId: 50929
      - userId: 50927
    step:
      #      - keyWord: 快捷注册-合伙人邀请码-随机邮箱
      - keyWord: 增加合约账户资产-指定资产
      - keyWord: 社区活动列表-报名中
      - keyWord: 通过uid获取用户token
      - keyWord: 社区活动报名
  - name: 开仓后报名
    dataProvider:
      - side: ${__Random(1,2)}
        amount: ${__groovy(${__Random(100,9999)} * 0.0001)}
        dataProvider:
          - userId: 50924
          - userId: 50922
          - userId: 50920
          - userId: 50917
          - userId: 50915
          - userId: 50914
          - userId: 50913
          - userId: 50912
          - userId: 50908
          - userId: 50906
    step:
      - keyWord: 社区活动列表-报名中
      - keyWord: 增加合约账户资产
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓-指定交易对
      - keyWord: 社区活动报名
  - name: 社区活动列表-活动中
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 社区活动列表-活动中
        sleep: 130000
  - name: 活动开始后平仓
    dataProvider:
      - userId: 50914
      - userId: 50913
      - userId: 50912
      - userId: 50908
      - userId: 50906
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
  - name: 活动开始后平仓开仓
    invocationCount: 1
    dataProvider:
      - side: ${__Random(1,2)}
        amount: ${__groovy(${__Random(100,9999)} * 0.0001)}
        dataProvider:
          - userId: 50924
          - userId: 50922
          - userId: 50920
          - userId: 50917
          - userId: 50915
    step:
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 市价开仓-指定交易对
  - name: 活动开始后开仓
    dataProvider:
      - side: ${__Random(1,2)}
        amount: ${__groovy(${__Random(100,9999)} * 0.0001)}
        dataProvider:
          - userId: 50936
          - userId: 50934
          - userId: 50931
          - userId: 50929
          - userId: 50927
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓-指定交易对
      - keyWord: 持有仓位信息
  - name: 活动开始后开仓平仓
    dataProvider:
      - side: ${__Random(1,2)}
        amount: ${__groovy(${__Random(100,9999)} * 0.0001)}
        dataProvider:
          - userId: 50948
          - userId: 50945
          - userId: 50943
          - userId: 50941
          - userId: 50938
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓-指定交易对
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓