name: 任务报名限制VIP等级
story: welfare
dataProvider:
  - firstRuleName: tradingVolume
    award: experience
    awardAmt: 88
    awardNumber: 0
    firstRuleTarget: 100
    type: create
    actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-8H,zh_CN,)}
    actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
    actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-8H,zh_CN,)}
    actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
    actStatusType: in_progress
    msgKey: vip.level.not.matching
    minBalance: 0
    side: ${__Random(1,2)}
testMethod:
  - name: 报名-限制VIP等级-${vipLevel}
    dataProvider:
      - code: 0
        Accept-Language: zh_CN
        actCode: gerow_${__time()}
        msg: 成功
        dataProvider:
          - vipLevel: 5|6
            dataProvider:
              - realVipLevel: 5
              - realVipLevel: 6
          - vipLevel: 0
            dataProvider:
              - realVipLevel: 0
    step:
      - keyWord: 创建任务类奖励活动-指定vip等级
      - keyWord: 任务类奖励活动列表
      - keyWord: 活动信息
      - keyWord: 快捷注册
      - keyWord: 增加合约账户资产
      - keyWord: 通过uid获取用户token
      - keyWord: 修改vip等级
      - keyWord: 活动报名-校验报名结果
      - keyWord: 市价开仓-指定交易对
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 统计活动数据
      - keyWord: 获取记录
      - keyWord: 领取奖励-校验领取结果
      - keyWord: 奖励记录
  - name: 报名-限制VIP等级${vipLevel}-用户
    dataProvider:
      - code: 900013
        Accept-Language: vi-VN
        msg: Rất tiếc, cấp VIP của bạn không đáp ứng được yêu cầu để vào.
        dataProvider:
          - actCode: gerow_${__time()}
            vipLevel: 5|6
            dataProvider:
              - realVipLevel: 0
              - realVipLevel: 1
              - realVipLevel: 2
              - realVipLevel: 3
              - realVipLevel: 4
    step:
      - keyWord: 创建任务类奖励活动-指定vip等级
      - keyWord: 任务类奖励活动列表
      - keyWord: 活动信息
      - keyWord: 快捷注册
      - keyWord: 通过uid获取用户token
      - keyWord: 修改vip等级
      - keyWord: 活动报名-校验报名结果