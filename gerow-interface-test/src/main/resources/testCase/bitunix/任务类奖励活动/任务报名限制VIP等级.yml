name: 任务报名限制VIP等级
story: welfare
dataProvider:
  - firstRuleName: tradingVolume
    award: experience
    awardAmt: 88
    couponId: 248
    awardNumber: 0
    firstRuleTarget: 100
    type: create
    actCode: gerow_${__time()}
    actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-8H,zh_CN,)}
    actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
    actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
    actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-5H,zh_CN,)}
    actStatusType: pending
    code: 900013
    msgKey: vip.level.not.matching
    minBalance: 0
    dataProvider:
      - vipLevels: 0
      - vipLevels: 1
      - vipLevels: 2
      - vipLevels: 3
      - vipLevels: 4
      - vipLevels: 5
      - vipLevels: 6
beforeClass:
  name: 创建活动
  step:
    - keyWord: 创建任务类奖励活动
      bodyEditor:
        json:
          $.data.vipLevels: ${vipLevels}
    - keyWord: 任务类奖励活动列表
    - keyWord: 活动信息
testMethod:
  - name: 报名-限制VIP等级-${vipLevels}
    dataProvider:
      - Accept-Language: zh_CN
        msg: 活动报名未开始或已结束
    step:
      - keyWord: 快捷注册
      - keyWord: 通过uid获取用户token
      - keyWord: 活动报名-校验报名结果
