name: 用户报名
story: welfare
dataProvider:
  - firstRuleName: tradingVolume
    award: experience
    awardAmt: 88
    couponId: 248
    awardNumber: 10
    firstRuleTarget: 100
    type: create
testMethod:
  - name: 用户报名-${testType}
    dataProvider:
      - actCode: gerow_${__time()}
        actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-9H,zh_CN,)}
        actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
        actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
        actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-5H,zh_CN,)}
        dataProvider:
          - testType: 资产不足
            actStatusType: registration_in_progress
            minBalance: 999.99
            amount: 999.98
            code: 900010
            msg: Futures account balance is less than ${minBalance} USDT
          - testType: 无限制报名成功
            actStatusType: registration_in_progress
            minBalance: 0
            amount: 0
            code: 0
            msg: Success
          - testType: 报名成功
            actStatusType: registration_in_progress
            minBalance: 999.99
            amount: 999.99
            code: 0
            msg: Success
          - testType: 报名未开始
            actStatusType: pending
            minBalance: 999.99
            amount: 999.99
            actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
            actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-6H,zh_CN,)}
            actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-6H,zh_CN,)}
            actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-5H,zh_CN,)}
            code: 90005
            msg: Campaign registration has not started or has ended
          - testType: 报名已结束
            actStatusType: in_progress
            minBalance: 999.99
            amount: 999.99
            actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-10H,zh_CN,)}
            actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-9H,zh_CN,)}
            actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-9H,zh_CN,)}
            actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
            code: 90005
            msg: Campaign registration has not started or has ended
    step:
      - keyWord: 创建任务类奖励活动
      - keyWord: 任务类奖励活动列表
      - keyWord: 快捷注册
      - keyWord: 增加合约账户资产-指定资产
      - keyWord: 通过uid获取用户token
      - keyWord: 活动报名-校验报名结果
  - name: 注册后立即报名
    dataProvider:
      - actCode: gerow_${__time()}
        actEnrollStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-9H,zh_CN,)}
        actEnrollEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
        actStartTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-7H,zh_CN,)}
        actEndTime: ${__timeShift(yyyy-MM-dd'T'HH:mm:ss.000'Z',,PT-5H,zh_CN,)}
        dataProvider:
          - testType: 无限制报名成功
            actStatusType: registration_in_progress
            minBalance: 0
            amount: 0
            code: 0
            msg: Success
    step:
      - keyWord: 创建任务类奖励活动
      - keyWord: 任务类奖励活动列表
      - keyWord: 快捷注册
      - keyWord: 通过uid获取用户token
      - keyWord: 活动报名-校验报名结果
afterMethod:
  name: 删除任务类奖励活动
  step:
    - keyWord: 删除任务类奖励活动
