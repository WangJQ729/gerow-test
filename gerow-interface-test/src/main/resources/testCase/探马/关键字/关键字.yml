keyWord:
  step:
    - name: 用户跟进记录
      url: /domainServer/qw/clientCustomer/addCustomerFollow
      method: POST
      body: |
        {
          "customerId":${customerId},
          "content":"${content}",
          "followType":${followType},
          "salesId":${salesId}
        }
      assertion:
        - json:
            $.code: 0
    - name: 更新客户旅程
      url: /domainServer/qwCrm/webCustomer/customerInfoUpdate
      method: POST
      body: |
        {   "fieldName":"sales_stage",
            "customerId":${customerId},
            "fieldValue":[
                "527413161068736",
                500337933863104],
            "salesId":${salesId},
            "isWeb":true,
            "stageFlowId":"527413161068736",
            "salesStage":500337933863104,
            "salesStageSub":"",
            "salesStageName":"签约",
            "salesStageSubName":"",
            "preStageFlowId":"527413161068736",
            "preSalesStage":445499848396996,
            "salesStageEnd":"",
            "oldSalesStage":""
        }
      assertion: [ json: { $.code: 0 } ]
    - name: 添加增加按钮菜单
      url: /domainServer/sys_menu/addSysButton
      method: POST
      body: |
        [{     "name": "导出",
               "url": "/*",
               "code": 10528,
               "proType": "[2, 3, 4]",
               "menuCode": 9910504
        }]
      assertion: [ json: { $.code: 0 } ]
    - name: 公海添加个人客户
      url: /domainServer/qwCrm/webCustomer/addOpenSeaCustomerByMobiles
      method: POST
      body: |
        {
            "customerName":"${buyer_id}",
            "fields":[
            ],
            "addressList":[
            ],
            "mobiles":[${phoneNum}
            ],
            "openSeaId":${openSeaId}
        }
      assertion: [ json: { $.code: 0 } ]
    - name: 新增个人线索
      url: /domainServer/market-cloud/crm2/addClue
      method: POST
      body: |
        {
            "customerName":"${__RandomName(buyer_id)}",
            "salesStage":"",
            "fields":[],
            "mobiles":[${__RandomPhoneNum(phoneNum)}],
            "modalType":0,
            "address":""
        }

      assertion: [ json: { $.code: 0 } ]
    - name: 添加企业
      url: /domainServer/qw/company/saveCompanyInfo
      method: POST
      body: |
        {"corpName":"GerowWang_${__RandomString(8,zxcvbnmlkjhgfdsaqwertyuiopQWERTYUIOPASDFGHJKLZXCVBNM1234567890,)}_${__time(/1000,)}","corpNameShort":"GerowWang","business":null,"scale":null,"level":null,"address":null,"creditCode":"","corpDefineField":[]}
      assertion: [ json: { $.code: 0 } ]
      extractor:
        - json:
            corpId: $.data
    - name: 添加企业线索
      url: /domainServer/market-cloud/crm3/addCorpAllocatedCustomer
      method: POST
      body: |
        {"contacts":[],"clueInfo":{"salesStage":"","fields":[],"mobiles":["${__RandomPhoneNum(phoneNum)}"]},"companyId":${corpId},"modalType":1,"customerName":"","salesStage":"","fields":[],"address":""}
      assertion: [ json: { $.code: 0 } ]
    - name: api新增个人线索
      url: /apiServer/api/v3/add-unassigned
      needTanmaSign: true
      method: POST
      headers:
        appId: ${appId}
        appKey: ${appKey}
        timestamp: ${timestamp}
      body: |
        { "customerName": "${buyer_id}","mobiles": [ "${phoneNum}" ],"fields": [ ] }
      assertion: [ json: { $.code: 0 } ]