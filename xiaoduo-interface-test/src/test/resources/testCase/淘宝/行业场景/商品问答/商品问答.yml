name: 商品问答
story: 关联商品
invocationCount: 100
beforeClass:
  name: 获取行业问题列表
  step:
    - name: 获取行业问题
      method: GET
      url: /api/admin/config2/question_b_list
      variables:
        limit: 100
        skip: 300
        reply_sequence_num: 0
        new_is_check: false
      assertion: [json: {$.code: 0}]
      extractor:
        - json:
            question_id: $.question_bs[${invocationCount}].id
    - name: 获取店铺商品列表
      method: GET
      url: /api/admin/platform/shop_goods_list
      variables:
        skip: 0
        limit: 100
        question_id: ${question_id}
        question_b_id: ${question_id}
        question_type: question_b
      assertion: [json: {$.code: 0}]
      extractor:
        - json:
            plat_goods_ids: $.goodss..plat_goods_id
          size: 100
testMethod:
  - name: 添加商品问答
    description: |
      """</br>
      """
    severity: NORMAL
    step:
      - name: 删除问答
        url: /api/admin/config2/question_b_goods_replies_delete_multi
        headers:
          Content-Type: multipart/form-data
        method: POST
        form:
          plat_goods_id: 610043690892
          goods_ids: 5df2ff1648973900181b1c0b
          question_b_id: ${question_b_id}
        assertion: [json: {$.code: 0}]