name: ${abnormal_name}
dataProvider:
  - abnormal_name: 漏跟进
    abnormal_type: 2
    dataProvider:
      - category_name: 糖果专属
        question:
          - 赠品是否随货发出
#          - 赠品值多少钱
#          - 修改一下运费
#          - 定金是否可退
        answer:
          - 您耐心等待的呢
          - 您在等一下啊
#          - 亲稍等我看一下
#          - 您稍等哦
      - category_name: 户外烧烤
        question: 多久返红包
        answer: 稍等，我问问哦
      - category_name: 男装专属
        question: 满减是怎么算的
        answer: 抱歉 我问问
      - category_name: 手机壳钢化膜
        question: 是否送手机壳
        answer: 嗯嗯 我看下哦亲亲
      - category_name: 相册DIY
        question: 货从哪发
        answer: 这边帮您问下的哦
beforeClass:
  name: 获取扣分行为类型id
  step:
    - byName: 跟进类目名称获取类目
    - byName: 切换类目-指定类目id
    - byName: 获取扣分行为列表
testMethod:
  - name: ${abnormal_name}-${category_name}-开启-${question}-${answer}-扣${abnormal_score}分
    description: |
      """</br>
      用例描述：</br>
      1、${abnormal_name}-${category_name}--开启-${question}。</br>
      </br>
      测试步骤</br>
      1、${category_name}</br>
      2、开启${abnormal_name}检查</br>
      3、发送(${question})给商家</br>
      4、商家回复(${answer})</br>
      5、1分钟后仍然没有响应
      6、查看对话详情-校验质检结果</br>
    dataProvider:
      - abnormal_score:
          - 1
#          - 4
    severity: NORMAL
    step:
      - byName: 开启扣分分行为监控开关
        name: 开启漏跟进监控开关
        bodyEditor:
          json:
            $.score: ${__javaScript(${abnormal_score})}
            $.check: true
            $.special_settings.forget_followup_timeout: "1"
      - byName: 发送消息给商家-随机买家
      - byName: 发送消息给买家
      - byName: 查询质检会话列表
      - byName: 查看对话详情-扣分行为
afterClass:
  name: 测试结束后关闭质检
  step:
    - byName: 关闭扣分分行为监控开关